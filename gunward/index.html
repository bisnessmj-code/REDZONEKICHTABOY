<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>GUNWARD — KING OF THE HILL</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Share+Tech+Mono&family=Rajdhani:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --red:      #CC0000;
            --red-dim:  #660000;
            --bg:       #080808;
            --surface:  #0f0f0f;
            --surface2: #181818;
            --line:     #1c1c1c;
            --line2:    #242424;
            --white:    #F2F0EA;
            --muted:    #555555;
            --accent:   #D4A017;
        }

        * { margin:0; padding:0; box-sizing:border-box; }

        body {
            background: var(--bg);
            color: var(--white);
            font-family: 'Rajdhani', sans-serif;
            overflow: hidden;
            width: 1920px;
            height: 1080px;
        }

        /* CORNER BRACKETS — BO2 style */
        .corner {
            position: fixed;
            width: 44px;
            height: 44px;
            z-index: 100;
            pointer-events: none;
        }
        .corner::before, .corner::after {
            content: '';
            position: absolute;
            background: var(--red);
            opacity: 0.7;
        }
        .corner::before { width: 2px; height: 100%; }
        .corner::after  { width: 100%; height: 2px; }
        .corner.tl { top: 20px; left: 20px; }
        .corner.tr { top: 20px; right: 20px; transform: scaleX(-1); }
        .corner.bl { bottom: 20px; left: 20px; transform: scaleY(-1); }
        .corner.br { bottom: 20px; right: 20px; transform: scale(-1); }

        /* TOP BAR */
        .topbar {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 26px 60px 0;
            position: relative;
        }

        .logo-zone {
            display: flex;
            align-items: center;
            gap: 18px;
        }

        .logo-img {
            width: 56px;
            height: 56px;
            border: 1px solid var(--red);
            background: var(--surface2);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            flex-shrink: 0;
        }
        .logo-img img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }
        .logo-img .logo-fallback {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 1.3rem;
            color: var(--red);
            letter-spacing: 2px;
        }

        .logo-text { display: flex; flex-direction: column; }
        .logo-text .brand {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 2.2rem;
            letter-spacing: 6px;
            line-height: 1;
            color: var(--white);
        }
        .logo-text .sub {
            font-family: 'Share Tech Mono', monospace;
            font-size: 0.68rem;
            color: var(--red);
            letter-spacing: 4px;
            text-transform: uppercase;
        }

        /* STATUS ROW */
        .status-row {
            display: flex;
            gap: 28px;
            align-items: center;
        }
        .status-chip {
            font-family: 'Share Tech Mono', monospace;
            font-size: 0.72rem;
            letter-spacing: 2px;
            color: var(--muted);
            display: flex;
            align-items: center;
            gap: 7px;
        }
        .status-chip .dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: var(--red);
            animation: dotPulse 2s ease infinite;
        }
        .status-chip .dot.gold { background: var(--accent); }
        .status-chip .val { color: var(--white); font-size: 0.82rem; }

        @keyframes dotPulse {
            0%, 100% { opacity: 1; }
            50%       { opacity: 0.2; }
        }

        /* TIMER CENTRAL */
        .timer-zone {
            text-align: center;
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
        }
        .timer-label {
            font-family: 'Share Tech Mono', monospace;
            font-size: 0.62rem;
            letter-spacing: 5px;
            color: var(--muted);
            margin-bottom: 3px;
        }
        .timer-value {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 3.4rem;
            letter-spacing: 8px;
            color: var(--white);
            line-height: 1;
        }
        .timer-value .sep { color: var(--red); }
        .timer-value.warning {
            color: var(--red);
            animation: timerWarn 1s ease infinite;
        }
        @keyframes timerWarn {
            0%, 100% { opacity: 1; }
            50%       { opacity: 0.35; }
        }
        .zone-next-label {
            font-family: 'Share Tech Mono', monospace;
            font-size: 0.58rem;
            letter-spacing: 3px;
            color: var(--red);
            margin-top: 2px;
        }

        /* DIVIDER */
        .divider {
            height: 1px;
            background: linear-gradient(90deg,
                transparent,
                var(--line2) 20%,
                var(--red) 50%,
                var(--line2) 80%,
                transparent
            );
            margin: 20px 60px 0;
        }

        /* NAV TABS */
        .nav {
            display: flex;
            padding: 0 60px;
            border-bottom: 1px solid var(--line);
        }
        .nav-tab {
            padding: 16px 40px;
            font-family: 'Bebas Neue', sans-serif;
            font-size: 1.1rem;
            letter-spacing: 4px;
            color: var(--muted);
            cursor: pointer;
            border-bottom: 2px solid transparent;
            transition: color 0.2s, border-color 0.2s;
            user-select: none;
        }
        .nav-tab:hover { color: var(--white); }
        .nav-tab.active {
            color: var(--white);
            border-bottom-color: var(--red);
        }

        /* PAGES */
        .page { display: none; padding: 30px 60px 40px; height: 870px; gap: 24px; }
        .page.active {
            display: flex;
            animation: fadeSlide 0.25s ease;
        }
        @keyframes fadeSlide {
            from { opacity: 0; transform: translateY(8px); }
            to   { opacity: 1; transform: translateY(0); }
        }

        /* ======================== PAGE SÉLECTION ======================== */
        .teams-wrap {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 18px;
            flex: 1;
            align-content: start;
        }

        .team-card {
            background: var(--surface);
            border: 1px solid var(--line);
            border-left: 3px solid var(--team-color, var(--red));
            padding: 32px 28px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            cursor: pointer;
            transition: background 0.18s, border-color 0.18s;
        }
        .team-card:hover {
            background: var(--surface2);
            border-color: var(--team-color, var(--red));
            border-left-color: var(--team-color, var(--red));
        }
        .team-card.full {
            opacity: 0.32;
            cursor: not-allowed;
        }

        .team-badge {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            margin-bottom: 16px;
        }
        .team-name {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 2.1rem;
            letter-spacing: 4px;
            line-height: 1;
            color: var(--team-color, var(--red));
        }
        .team-tag {
            font-family: 'Share Tech Mono', monospace;
            font-size: 0.62rem;
            letter-spacing: 3px;
            color: var(--muted);
            padding: 3px 7px;
            border: 1px solid var(--line2);
        }

        .team-count-wrap { margin-bottom: 20px; }
        .team-count {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 5rem;
            line-height: 1;
            color: var(--team-color, var(--red));
        }
        .team-max {
            font-family: 'Share Tech Mono', monospace;
            font-size: 0.75rem;
            color: var(--muted);
            letter-spacing: 2px;
        }

        /* Capacity bar */
        .cap-bar-wrap { margin-bottom: 22px; }
        .cap-bar-label {
            display: flex;
            justify-content: space-between;
            font-family: 'Share Tech Mono', monospace;
            font-size: 0.62rem;
            color: var(--muted);
            letter-spacing: 2px;
            margin-bottom: 6px;
        }
        .cap-bar-track {
            height: 3px;
            background: var(--line2);
            overflow: hidden;
        }
        .cap-bar-fill {
            height: 100%;
            background: var(--team-color, var(--red));
            transition: width 0.5s ease;
        }

        .join-btn {
            width: 100%;
            padding: 14px;
            background: transparent;
            border: 1px solid var(--team-color, var(--red));
            color: var(--team-color, var(--red));
            font-family: 'Bebas Neue', sans-serif;
            font-size: 1.05rem;
            letter-spacing: 5px;
            cursor: pointer;
            transition: background 0.15s, color 0.15s;
        }
        .join-btn:hover:not([disabled]) {
            background: var(--team-color, var(--red));
            color: #000000;
        }
        .join-btn[disabled] {
            opacity: 0.22;
            cursor: not-allowed;
            border-color: var(--muted);
            color: var(--muted);
        }

        /* Right panel */
        .zone-panel {
            width: 440px;
            flex-shrink: 0;
            display: flex;
            flex-direction: column;
            gap: 16px;
        }
        .panel-block {
            background: var(--surface);
            border: 1px solid var(--line);
            border-left: 2px solid rgba(204,0,0,0.4);
            padding: 24px;
            position: relative;
        }
        .panel-block::before {
            content: attr(data-label);
            position: absolute;
            top: -9px;
            left: 20px;
            font-family: 'Share Tech Mono', monospace;
            font-size: 0.62rem;
            letter-spacing: 4px;
            color: var(--red);
            background: var(--bg);
            padding: 0 8px;
        }

        /* Zone map */
        .zone-map {
            height: 150px;
            background: var(--surface);
            border: 1px solid var(--line2);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }
        .zone-map::before {
            content: '';
            position: absolute;
            inset: 0;
            background-image:
                linear-gradient(var(--line) 1px, transparent 1px),
                linear-gradient(90deg, var(--line) 1px, transparent 1px);
            background-size: 36px 36px;
            opacity: 0.4;
        }
        .zone-marker {
            width: 14px;
            height: 14px;
            border: 2px solid var(--red);
            transform: rotate(45deg);
            background: var(--red);
            box-shadow: 0 0 14px var(--red);
            animation: markerPulse 2s ease infinite;
            position: relative;
            z-index: 2;
        }
        @keyframes markerPulse {
            0%, 100% { box-shadow: 0 0 10px var(--red); }
            50%       { box-shadow: 0 0 24px var(--red); }
        }
        .zone-label-txt {
            position: absolute;
            font-family: 'Share Tech Mono', monospace;
            font-size: 0.65rem;
            letter-spacing: 3px;
            color: var(--red);
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 2;
            white-space: nowrap;
        }

        /* Rules */
        .rules-list {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: 9px;
        }
        .rules-list li {
            display: flex;
            align-items: center;
            gap: 10px;
            font-family: 'Rajdhani', sans-serif;
            font-weight: 600;
            font-size: 0.9rem;
            color: var(--muted);
        }
        .rules-list li::before {
            content: '//';
            color: var(--red);
            font-family: 'Share Tech Mono', monospace;
            font-size: 0.65rem;
            flex-shrink: 0;
        }
        .rules-list li span { color: var(--white); margin-left: 4px; }

        /* Podium */
        .podium-list { display: flex; flex-direction: column; gap: 8px; }
        .podium-row {
            display: flex;
            align-items: center;
            gap: 14px;
            padding: 12px 16px;
            border: 1px solid var(--line2);
            background: var(--surface2);
            position: relative;
            overflow: hidden;
        }
        .podium-row::before {
            content: '';
            position: absolute;
            left: 0; top: 0; bottom: 0;
            width: 3px;
        }
        .gold-row   { border-color: rgba(212,160,23,0.2); background: rgba(212,160,23,0.04); }
        .silver-row { border-color: rgba(192,192,192,0.12); }
        .bronze-row { border-color: rgba(205,127,50,0.12); }
        .gold-row::before   { background: var(--accent); }
        .silver-row::before { background: #c0c0c0; }
        .bronze-row::before { background: #cd7f32; }
        .podium-rank {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 1.4rem;
            min-width: 28px;
        }
        .gold-row   .podium-rank { color: var(--accent); }
        .silver-row .podium-rank { color: #c0c0c0; }
        .bronze-row .podium-rank { color: #cd7f32; }
        .podium-name {
            flex: 1;
            font-family: 'Rajdhani', sans-serif;
            font-weight: 700;
            font-size: 1rem;
            color: var(--white);
        }
        .podium-money {
            font-family: 'Share Tech Mono', monospace;
            font-size: 0.85rem;
            color: var(--accent);
        }

        /* ======================== PAGE STATS ======================== */
        .stats-main { flex: 1; display: flex; flex-direction: column; overflow: hidden; }
        .stats-side { width: 400px; flex-shrink: 0; display: flex; flex-direction: column; gap: 16px; }

        /* Leaderboard */
        .lb-wrap {
            flex: 1;
            background: var(--surface);
            border: 1px solid var(--line);
            border-left: 2px solid rgba(204,0,0,0.4);
            overflow: hidden;
            position: relative;
        }
        .lb-wrap::before {
            content: 'CLASSEMENT EN DIRECT';
            position: absolute;
            top: -9px;
            left: 20px;
            font-family: 'Share Tech Mono', monospace;
            font-size: 0.62rem;
            letter-spacing: 4px;
            color: var(--red);
            background: var(--bg);
            padding: 0 8px;
            z-index: 1;
        }
        .lb-inner { padding: 22px; height: 100%; overflow-y: auto; }
        .lb-inner::-webkit-scrollbar { width: 3px; }
        .lb-inner::-webkit-scrollbar-track { background: transparent; }
        .lb-inner::-webkit-scrollbar-thumb { background: var(--red-dim); }

        table { width: 100%; border-collapse: collapse; }
        thead th {
            padding: 10px 14px;
            font-family: 'Share Tech Mono', monospace;
            font-size: 0.65rem;
            letter-spacing: 3px;
            color: var(--muted);
            border-bottom: 1px solid var(--line2);
            text-align: left;
            text-transform: uppercase;
            position: sticky;
            top: 0;
            background: var(--surface);
            z-index: 1;
        }
        tbody td {
            padding: 11px 14px;
            font-family: 'Share Tech Mono', monospace;
            font-size: 0.85rem;
            border-bottom: 1px solid var(--line);
            vertical-align: middle;
        }
        tbody tr { transition: background 0.12s; }
        tbody tr:hover { background: var(--surface2); }
        tbody tr.me {
            background: rgba(204,0,0,0.07);
            border-left: 2px solid var(--red);
        }
        tbody tr.me td:first-child { color: var(--accent); }

        .rank-num {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 1.05rem;
            color: var(--muted);
        }
        .rank-num.top1 { color: var(--accent); font-size: 1.2rem; }
        .rank-num.top2 { color: #c0c0c0; }
        .rank-num.top3 { color: #cd7f32; }

        .player-name {
            font-family: 'Rajdhani', sans-serif;
            font-weight: 700;
            font-size: 0.95rem;
            color: var(--white);
        }
        .kills-val { color: var(--red); font-weight: bold; }

        /* Profile panel */
        .profile-wrap {
            flex: 1;
            background: var(--surface);
            border: 1px solid var(--line);
            border-left: 2px solid rgba(204,0,0,0.4);
            padding: 24px;
            position: relative;
            display: flex;
            flex-direction: column;
            gap: 16px;
        }
        .profile-wrap::before {
            content: 'VOTRE PROFIL';
            position: absolute;
            top: -9px;
            left: 20px;
            font-family: 'Share Tech Mono', monospace;
            font-size: 0.62rem;
            letter-spacing: 4px;
            color: var(--red);
            background: var(--bg);
            padding: 0 8px;
        }
        .profile-header {
            display: flex;
            align-items: center;
            gap: 16px;
        }
        .profile-avatar {
            width: 52px;
            height: 52px;
            border: 1px solid var(--red);
            background: var(--surface2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Bebas Neue', sans-serif;
            font-size: 1.5rem;
            color: var(--red);
            flex-shrink: 0;
        }
        .profile-name {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 1.7rem;
            letter-spacing: 4px;
            color: var(--white);
        }
        .profile-rank {
            font-family: 'Share Tech Mono', monospace;
            font-size: 0.68rem;
            letter-spacing: 2px;
            color: var(--muted);
            margin-top: 3px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }
        .stat-cell {
            background: var(--bg);
            border: 1px solid var(--line);
            border-left: 2px solid rgba(204,0,0,0.3);
            padding: 16px 18px;
            position: relative;
        }
        .stat-cell::before {
            content: attr(data-label);
            display: block;
            font-family: 'Share Tech Mono', monospace;
            font-size: 0.58rem;
            letter-spacing: 3px;
            color: var(--muted);
            margin-bottom: 6px;
        }
        .stat-val {
            font-family: 'Bebas Neue', sans-serif;
            font-size: 2.2rem;
            line-height: 1;
            color: var(--white);
        }
        .stat-val.highlight { color: var(--red); }
        .stat-val.gold { color: var(--accent); }
        .stat-cell.wide { grid-column: 1 / -1; }
        .stat-cell.wide .stat-val { font-size: 2.6rem; }

        .kd-display { display: flex; align-items: center; gap: 20px; }
        .kd-row {
            display: flex;
            justify-content: space-between;
            font-family: 'Share Tech Mono', monospace;
            font-size: 0.72rem;
            padding: 5px 0;
            border-bottom: 1px solid var(--line);
            color: var(--muted);
        }
        .kd-row span:last-child { color: var(--white); }
        .kd-row span.pos { color: var(--accent); }
        .kd-labels { flex: 1; }

    </style>
</head>
<body>

    <!-- Corner brackets -->
    <div class="corner tl"></div>
    <div class="corner tr"></div>
    <div class="corner bl"></div>
    <div class="corner br"></div>

    <!-- TOP BAR -->
    <div class="topbar">
        <div class="logo-zone">
            <div class="logo-img">
                <img src="html/assets/logo.png" alt="Logo"
                     onerror="this.style.display='none'; this.nextElementSibling.style.display='block'">
                <span class="logo-fallback" style="display:none">GW</span>
            </div>
            <div class="logo-text">
                <div class="brand">GUNWARD</div>
                <div class="sub">King of the Hill — v1</div>
            </div>
        </div>

        <div class="timer-zone">
            <div class="timer-label">ROTATION DE ZONE DANS</div>
            <div class="timer-value" id="timerDisplay">
                <span id="tMin">15</span><span class="sep">:</span><span id="tSec">00</span>
            </div>
            <div class="zone-next-label">[ ZONE SUD ]</div>
        </div>

        <div class="status-row">
            <div class="status-chip"><div class="dot"></div>LIVE</div>
            <div class="status-chip"><div class="dot gold"></div>ZONE ACTIVE</div>
            <div class="status-chip">
                <span class="val" id="playerCount">54</span>&nbsp;JOUEURS
            </div>
        </div>
    </div>

    <div class="divider"></div>

    <!-- NAV -->
    <div class="nav">
        <div class="nav-tab active" onclick="switchPage('selection', this)">Sélection d'Équipe</div>
        <div class="nav-tab" onclick="switchPage('stats', this)">Statistiques Live</div>
    </div>

    <!-- ======================== PAGE SÉLECTION ======================== -->
    <div id="selection" class="page active" style="align-items:flex-start;">

        <div class="teams-wrap" id="teamsContainer"></div>

        <div class="zone-panel">
            <div class="panel-block" data-label="ZONE ACTIVE">
                <div class="zone-map">
                    <div class="zone-marker"></div>
                    <div class="zone-label-txt">[ ZONE SUD ]</div>
                </div>
            </div>

            <div class="panel-block" data-label="RÈGLES DE LA PARTIE">
                <ul class="rules-list">
                    <li>Zone capture : <span>15 MIN</span></li>
                    <li>Chaque kill : <span>+100 $</span></li>
                    <li>Respawn : <span>INSTANTANÉ</span></li>
                    <li>Mode : <span>AUTO-START</span></li>
                </ul>
            </div>

            <div class="panel-block" data-label="TOP 3 JOUEURS">
                <div class="podium-list" id="podiumList"></div>
            </div>
        </div>
    </div>

    <!-- ======================== PAGE STATS ======================== -->
    <div id="stats" class="page">

        <div class="stats-main">
            <div class="lb-wrap">
                <div class="lb-inner">
                    <table>
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>Joueur</th>
                                <th>Kills</th>
                                <th>Morts</th>
                                <th>K/D</th>
                                <th>Bank</th>
                            </tr>
                        </thead>
                        <tbody id="lbTable"></tbody>
                    </table>
                </div>
            </div>
        </div>

        <div class="stats-side">
            <div class="profile-wrap">
                <div class="profile-header">
                    <div class="profile-avatar">JD</div>
                    <div>
                        <div class="profile-name">John_Doe</div>
                        <div class="profile-rank">POSITION : <span style="color:var(--white)">#7</span></div>
                    </div>
                </div>
                <div style="margin-top:4px;">
                    <div class="kd-labels">
                        <div class="kd-row"><span>KILLS</span><span>48</span></div>
                        <div class="kd-row"><span>MORTS</span><span>20</span></div>
                        <div class="kd-row"><span>K/D</span><span>2.40</span></div>
                        <div class="kd-row"><span>POSITION</span><span class="pos">#7</span></div>
                    </div>
                </div>
                <div class="stats-grid">
                    <div class="stat-cell wide" data-label="ARGENT EN BANQUE">
                        <div class="stat-val highlight">$4 800</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        /* ── RESIZE AUTO ── */
        function resize() {
            const s = Math.min(window.innerWidth / 1920, window.innerHeight / 1080);
            document.body.style.transform = 'scale(' + s + ')';
            document.body.style.transformOrigin = 'top left';
        }
        window.addEventListener('resize', resize);
        resize();

        /* ── NAVIGATION ── */
        function switchPage(id, el) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            el.classList.add('active');
        }

        /* ── CONFIG ÉQUIPES ── */
        const TEAMS = [
            { name:'Alpha',   tag:'ROUGE', color:'#CC0000', count:18, max:32 },
            { name:'Bravo',   tag:'BLEUE', color:'#0055CC', count:12, max:32 },
            { name:'Charlie', tag:'VERTE', color:'#00AA44', count:30, max:32 },
            { name:'Delta',   tag:'NOIRE', color:'#777777', count:4,  max:32 },
        ];

        function renderTeams() {
            document.getElementById('teamsContainer').innerHTML = TEAMS.map(t => {
                const pct  = Math.min((t.count / t.max) * 100, 100);
                const full = t.count >= t.max;
                return `
                <div class="team-card${full?' full':''}" style="--team-color:${t.color}">
                    <div>
                        <div class="team-badge">
                            <div class="team-name">${t.name}</div>
                            <div class="team-tag">${t.tag}</div>
                        </div>
                        <div class="team-count-wrap">
                            <div class="team-count">${t.count}</div>
                            <div class="team-max">/ ${t.max} OPÉRATEURS</div>
                        </div>
                        <div class="cap-bar-wrap">
                            <div class="cap-bar-label">
                                <span>CAPACITÉ</span>
                                <span>${Math.round(pct)}%</span>
                            </div>
                            <div class="cap-bar-track">
                                <div class="cap-bar-fill" style="width:${pct}%"></div>
                            </div>
                        </div>
                    </div>
                    <button class="join-btn" ${full?'disabled':''} onclick="alert('Équipe ${t.name}')">
                        ${full ? 'COMPLET' : 'REJOINDRE'}
                    </button>
                </div>`;
            }).join('');
        }

        /* ── LEADERBOARD ── */
        const NAMES = ['Shadow_X','Viper_01','KnightFall','Maverick','Reaper','John_Doe','Phantom','Blaze','Toxin','Ace_High','Rogue','Wraith','Thunder','Spectre','Cobra','Falcon','Raptor','Bandit','Ghost','Nemesis'];

        function renderLB() {
            const rows = NAMES.map((n, i) => {
                const kills  = Math.max(1, 70 - i * 3 + Math.floor(Math.random() * 4));
                const deaths = Math.max(1, 10 + i * 2);
                const kd     = (kills / deaths).toFixed(2);
                const bank   = kills * 100;
                const isMe   = n === 'John_Doe';
                const rc     = i === 0 ? 'top1' : i === 1 ? 'top2' : i === 2 ? 'top3' : '';
                return `
                <tr class="${isMe ? 'me' : ''}">
                    <td><span class="rank-num ${rc}">${i + 1}</span></td>
                    <td><span class="player-name">${n}</span></td>
                    <td class="kills-val">${kills}</td>
                    <td style="color:var(--muted)">${deaths}</td>
                    <td style="color:${parseFloat(kd) >= 1.5 ? 'var(--accent)' : 'var(--muted)'}">${kd}</td>
                    <td style="color:var(--accent);font-weight:bold">$${bank.toLocaleString()}</td>
                </tr>`;
            }).join('');
            document.getElementById('lbTable').innerHTML = rows;

            const sorted = NAMES.map((n, i) => ({
                name: n,
                bank: Math.max(1, 70 - i * 3) * 100
            })).sort((a, b) => b.bank - a.bank);

            const pClasses = ['gold-row', 'silver-row', 'bronze-row'];
            const podiumEl = document.getElementById('podiumList');
            if (podiumEl) {
                podiumEl.innerHTML = sorted.slice(0, 3).map((p, i) => `
                    <div class="podium-row ${pClasses[i]}">
                        <div class="podium-rank">0${i + 1}</div>
                        <div class="podium-name">${p.name}</div>
                        <div class="podium-money">$${p.bank.toLocaleString()}</div>
                    </div>`).join('');
            }
        }

        /* ── TIMER ── */
        let totalSec = 15 * 60;
        function tickTimer() {
            totalSec--;
            if (totalSec < 0) totalSec = 15 * 60;
            const m   = String(Math.floor(totalSec / 60)).padStart(2, '0');
            const s   = String(totalSec % 60).padStart(2, '0');
            document.getElementById('tMin').textContent = m;
            document.getElementById('tSec').textContent = s;
            const disp = document.getElementById('timerDisplay');
            if (disp) disp.className = 'timer-value' + (totalSec <= 60 ? ' warning' : '');
        }
        setInterval(tickTimer, 1000);

        /* ── INIT ── */
        renderTeams();
        renderLB();
    </script>
</body>
</html>
